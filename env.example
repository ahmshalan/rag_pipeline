# RAG Pipeline Configuration
# Copy this file to .env and update with your values

# ============================================================================
# Retrieval Settings
# ============================================================================
# Embedding provider: openai or sentence-transformers
EMBEDDING_PROVIDER=openai

# Embedding model (provider-specific)
# OpenAI: text-embedding-3-small, text-embedding-3-large, text-embedding-ada-002
# Sentence Transformers: all-MiniLM-L6-v2, all-mpnet-base-v2
EMBEDDING_MODEL=text-embedding-3-small

DEFAULT_TOP_K=3
MAX_TOP_K=10

# ============================================================================
# LanceDB Vector Store
# ============================================================================
LANCEDB_URI=./data/lancedb
LANCEDB_TABLE_NAME=documents
USE_LANCEDB=true

# ============================================================================
# Basic Guardrails
# ============================================================================
MAX_QUERY_LENGTH=500
RATE_LIMIT_PER_MINUTE=60

# Denylist (comma-separated)
# DENYLIST=password,secret,api_key,token,credit_card,ssn

# ============================================================================
# Semantic Guardrails
# ============================================================================
SEMANTIC_GUARDRAIL_ENABLED=true
SEMANTIC_GUARDRAIL_THRESHOLD=0.75
SEMANTIC_GUARDRAIL_PROVIDER=openai
SEMANTIC_GUARDRAIL_MODEL=text-embedding-3-small

# ============================================================================
# LLM Guardrails (Optional - Requires OpenAI API Key)
# ============================================================================
LLM_GUARDRAIL_ENABLED=false
LLM_GUARDRAIL_PROVIDER=openai
LLM_GUARDRAIL_MODEL=gpt-5-mini

# OpenAI API Key (required if LLM_GUARDRAIL_ENABLED=true)
# OPENAI_API_KEY=sk-your-api-key-here

# ============================================================================
# Index Configuration
# ============================================================================
SIMILARITY_METRIC=cosine  # Options: cosine, dot

# ============================================================================
# Monitoring
# ============================================================================
METRICS_WINDOW_SIZE=1000

# ============================================================================
# Server Settings
# ============================================================================
HOST=0.0.0.0
PORT=8000
DEBUG=false
